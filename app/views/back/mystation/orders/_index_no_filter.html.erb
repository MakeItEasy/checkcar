<%= grid @orders_grid, show_filters: :no do |g|
  g.column name: Order.human_attribute_name(:order_no), attribute: "order_no" do |item|
    if can? :read, item
      link_to(item.order_no, back_mystation_order_path(item))
    end
  end
  g.column name: Order.human_attribute_name(:type), attribute: "type", filter: false do |item|
    item.type.constantize.model_name.human
  end
  g.column name: Order.human_attribute_name(:status), attribute: "status", detach_with_id: :status_filter do |item|
    render 'common/order/order_status_label', order: item
  end
  g.column name: Order.human_attribute_name(:order_time), attribute: "order_time" do |item|
    l(item.order_time)
  end
  g.column name: Order.human_attribute_name(:car_number), ordering: false do |item|
    item.car_number
  end
  g.column name: Order.human_attribute_name(:telephone), attribute: "telephone", ordering: false
  g.column do |item|
    links = []
    if can? :read, item
      links << link_to(I18n.t('view.action.show'), back_mystation_order_path(item))
    end
    if can? :update, item
      links << link_to(I18n.t('view.action.edit'), [:edit, :back, :mystation, item])

    end
    if can? :destroy, item
      links << link_to(I18n.t('view.action.delete'), [:back, :mystation, item], method: :delete, data: { confirm: t('view.confirm.delete')})
    end
    links.join(t('view.label.links_split')).html_safe
  end
end -%>
