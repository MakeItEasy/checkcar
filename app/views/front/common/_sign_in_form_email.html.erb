<%
  if mode == :ajax 
    _resource = User.new
    _form_options = {url: user_session_path(:json), remote: true, authenticity_token: true, html: {id: "sign_in_remote_form"}}
  else
    _resource = resource
    _form_options = {as: resource_name, url: session_path(resource_name)}
  end
%>
<%= form_for(_resource, _form_options) do |f| %>
<div class="body">
  <%= render "admins/notice_alert" if mode==:normal %>
  <div class="input-group col-sm-8">
    <span class="input-group-addon">
      <i class='glyphicon glyphicon-user'></i>
    </span>
    <%= f.text_field :login, autofocus: true, class: 'form-control', placeholder: t('view.placeholder.login') %>
  </div>
  <br>
  <div class="input-group col-sm-8">
    <span class="input-group-addon">
      <i class='glyphicon glyphicon-lock'></i> 
    </span>
    <%= f.password_field :password, autocomplete: "off", class: 'form-control', placeholder: "Password" %>
  </div>          
  <br>
  <div>
    <div class="input-group col-sm-5" style="float:left;">
      <span class="input-group-addon">
        <i class='glyphicon glyphicon-qrcode'></i> 
      </span>
      <%= text_field_tag :captcha, nil, {autocomplete: "off", class: 'form-control', 
        placeholder: t('view.placeholder.captcha')} %>
    </div>          
    <div class='col-sm-2' style='float: left;'>
        <%= captcha_tag class: 'car-captcha'%>
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="form-group">
      <br>
      <%= f.check_box :remember_me %> <%= f.label :remember_me %>
  </div>
</div>
<div class="footer">
  <%= f.submit t('view.action.sign_in'), class: 'btn btn-lg btn-success col-sm-2', style: "float: left;" %>
  <div style="float:left; margin: 20px 0 0 30px;">
    <%= link_to t('view.confirm.forget_password'), new_user_password_path %><br />
  </div>
</div>
<div class="clearfix"></div>
<% end %>
